{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OneCart - Easy Shopping</title>

  <!-- Tailwind & Font Awesome -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" 
    integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer" 
  />

  <!-- Base Styles -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');

    :root {
      --bg-900: #05060a;
      --bg-800: #0b1220;
      --glass-1: rgba(255, 255, 255, 0.04);
      --accent-cyan: #38bdf8;
      --accent-indigo: #7c3aed;
    }

    html, body {
      height: 100%;
      overflow-x: hidden;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(56,189,248,0.04), transparent 10%),
        radial-gradient(900px 500px at 90% 85%, rgba(124,58,237,0.04), transparent 8%),
        linear-gradient(180deg, var(--bg-900) 0%, var(--bg-800) 100%);
      color: #e6eef8;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Scrollbar Hidden */
    *::-webkit-scrollbar { width: 0; height: 0; background: transparent; }
    * { -ms-overflow-style: none; scrollbar-width: none; }

    /* Header */
    header {
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.03);
      z-index: 60;
    }

    /* Layout */
    .page-container { padding: 1rem; }

    @media (max-width: 1024px) {
      .split { grid-template-columns: 1fr 320px; }
    }
    @media (max-width: 880px) {
      .split { grid-template-columns: 1fr; }
    }

    /* Glass Cards */
    .glass-card {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
      backdrop-filter: blur(10px) saturate(120%);
    }

    /* Float Animation */
    .float-subtle {
      animation: floatSub 6s ease-in-out infinite;
      transform-origin: center;
    }
    @keyframes floatSub {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    /* Results Section */
    #MainResultsPage { transition: all .22s ease; }

    /* Product Cards */
    .ITEMCARD {
      padding: 4px;
      transition: transform .26s ease, box-shadow .26s ease;
    }
    .ITEMCARD:hover {
      transform: translateY(-6px);
      box-shadow: 0 20px 60px rgba(2,6,23,0.6);
    }

    /* Summary Panel */
    .summary-panel {
      position: relative;
      overflow-y: auto;
      padding: 1rem;
      border-radius: 12px;
    }

    @media (max-width: 880px) {
      .summary-panel {
        position: fixed;
        right: 0; top: 88px; bottom: 0;
        width: min(92vw, 360px);
        transform: translateX(110%);
        transition: transform 300ms cubic-bezier(.2,.9,.3,1);
        z-index: 70;
      }
      .summary-panel.open { transform: translateX(0); }
    }

    /* Floating Button */
    .fab-filter {
      position: relative;
      right: 18px;
      z-index: 80;
      box-shadow: 0 14px 40px rgba(2,6,23,0.6);
    }

    /* Text Styling */
    .muted { color: rgba(226,232,240,0.55); }
    .tiny { font-size: 12px; color: rgba(226,232,240,0.45); }

    /* No Results */
    #noResultsMessage {
      display: none;
      padding: 2rem;
      text-align: center;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.015), transparent);
      border: 1px dashed rgba(255,255,255,0.03);
    }

    /* Chips Scroll */
    .chips-scroll {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      white-space: nowrap;
      padding-bottom: 6px;
    }
    .chips-scroll::-webkit-scrollbar { display: none; }
  </style>

  <!-- AI Prompt Animation -->
  <style>
    #currentPrompt {
      display: inline-block;
      opacity: 1;
      transform: translateY(0);
      transition: opacity 0.6s ease, transform 0.6s ease;
      cursor: pointer;
      white-space: nowrap;
    }
    #currentPrompt.fade-out {
      opacity: 0;
      transform: translateY(-10px);
    }
    #currentPrompt.fade-in {
      opacity: 1;
      transform: translateY(0);
    }
    #currentPrompt:hover {
      text-decoration: underline;
      color: #1E90FF;
    }
  </style>
</head>

<body class="bg-gray-900 font-sans leading-relaxed lg:grid lg:grid-cols-1">

  <!-- Header -->
  <header class="w-full py-3 fixed top-0 left-0 right-0 flex justify-between items-center px-4 md:px-8 min-h-[70px]">
    <div class="flex items-center gap-4">
      <img src="{% static 'resources/logos/logo.png' %}" class="w-14 h-14 rounded-full ring-1 ring-white/6 shadow-sm" alt="OneCart Logo" />
      <span class="hidden md:flex text-white font-semibold text-lg leading-none">
        One<b class="text-[dodgerblue]">Cart</b>
      </span>
      <button id="LoadMainPageFresh"
        class="hidden ml-3 px-4 py-2 rounded-full text-sm font-medium bg-[dodgerblue] text-white hover:scale-105 transition"
        onclick="navigateTo('MainPageHeroPage')">
        <i class="text-xs">Search</i> <i class="fa fa-refresh ml-1"></i>
      </button>
    </div>

    <div class="flex items-center gap-6">
      <nav class="hidden md:flex gap-6 text-slate-200 font-medium">
        <a href="/cart-interface/" class="nav-btn">Your Cart</a>
        <a href="/about-interface/" class="nav-btn">About OneCart</a>
        <a href="/support-interface/" class="nav-btn">Contact</a>
        <a href="/profile-interface/" class="nav-btn">Profile</a>
      </nav>

      <button id="openSummaryFab"
        class="fab-filter md:hidden p-3 rounded-full bg-gradient-to-tr from-indigo-600 to-cyan-400 text-black shadow-xl"
        aria-label="Open filters">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2a1 1 0 01-.293.707L15 14.414V20a1 1 0 01-1.447.894L9 18v-3.586L3.293 6.707A1 1 0 013 6V4z" />
        </svg>
      </button>

      <button id="menuBtn"
        class="md:hidden text-white p-2 rounded-md bg-white/4 hover:bg-white/6 transition"
        aria-label="Open menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div id="mobileMenu" class="closeMenu fixed top-0 right-0 w-full h-full bg-[rgba(2,6,23,0.7)] backdrop-blur-sm transform translate-x-full transition-transform duration-300 ease-in-out z-50 flex justify-end" aria-hidden="true">
    <div class="flex flex-col p-6 space-y-6 bg-gray-800/70 border-[0.1px] border-[orange] w-72 h-full shadow-xl mt-20">
      <button id="closeMenu" class="self-end text-red-600 py-2 px-8 border rounded-3xl font-bold flex items-center gap-2">
        âœ• <span class="text-xs font-normal">Close menu</span>
      </button>
      
      
    </div>
  </div>

  <!-- Main Content -->
  <main class="page-container mt-[70px] md:mt-[96px] bg-[aliceblue] md:bg-gray-100/90 px-2 lg:px-10 max-w-8xl mx-auto min-h-[90vh] max-h-[92vh] overflow-y-scroll">

    <!-- Category Nav -->
    <div id="SelectionsNav" class="w-full px-1 py-1 bg-gradient-to-r from-orange-400 via-orange-400/70 to-orange-400 flex gap-3 overflow-x-auto shadow-md rounded-t-xl"></div>

    <!-- Hero Section -->
    <section id="MainPageHeroPage" class="relative mt-1">
      <div class="grid grid-cols-1 gap-2 items-center">
        <div class="z-10 flex flex-col gap-y-6 p-2 md:pl-8 lg:pl-10 rounded-xl border border-gray-700/60 bg-gray-900/90">
          <h1 class="text-2xl md:text-4xl font-extrabold text-center leading-tight">
            <span class="text-indigo-300">One<b class="text-[dodgerblue]">Cart</b></span>
            <span class="text-slate-200"> <b class="text-[dodgerblue]">:</b> <span id="messageBox" class="text-slate-300"></span></span>
          </h1>

          <div class="mt-0 w-full max-w-6xl mx-auto">
            <div class="grid grid-cols-1 gap-x-3 items-center py-2 mt-4">
              <div class="flex justify-center items-center gap-3">
                <h1 class="text-xl font-semibold text-[limegreen]">Ask OneCart AI</h1>
              </div>

              <div id="exampleContainer" class="text-[13px] text-center flex overflow-x-auto cursor-pointer py-3 justify-center">
                <b id="currentPrompt" class="bg-gray-100 py-2 px-3 rounded-3xl text-gray-700 min-w-fit mx-6 hover:border hover:border-orange-400 hover:bg-orange-50 transition">
                  Find me The best deals On Electronics in Kenya
                </b>
              </div>
            </div>

            <div class="glass-card flex items-center gap-2 p-1.5 rounded-full shadow-sm relative">
              <input type="search" id="searchInput"
                placeholder="Type what you are looking for..."
                class="w-full bg-gray-500/60 text-slate-100 placeholder:text-slate-400 placeholder:italic py-4 pl-2 pr-28 rounded-full border-0 focus:ring-0" />

              <button id="searchBtn"
                class="absolute right-2 top-1/2 -translate-y-1/2 bg-gradient-to-r from-indigo-600 to-cyan-500 text-black px-5 py-2 rounded-full font-semibold shadow-lg hover:brightness-105 transition">
                <svg class="ml-3 h-6 w-6 text-slate-300" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                    d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Featured Products -->
    <section id="DisplayAndAlerts" class="mt-10 pt-4 bg-orange-500 md:bg-[aliceblue] rounded-2xl mb-6 shadow-md overflow-hidden">
      <div class="max-w-7xl mx-auto md:mx-1  px-6">
        <p class="text-2xl md:text-2xl font-extrabold text-white md:text-gray-800 text-center md:text-start mt-4 mb-4">
          Most Bought and Featured Products <button class="text-sm py-3 px-3 ml-4 border-[0.1px] border-[orange] rounded-3xl cursor-pointer bg-[aliceblue] md:bg-orange-600 mt-3 md:mt-0 text-orange-600 md:text-white hover:bg-700   ">See The whole List</button> 
        </p>
      </div>
      <div id="featuredProductsContainer" class="flex flex-row flex-nowrap md:flex-wrap items-center justify-start md:justify-center gap-6 md:gap-10 overflow-x-auto md:overflow-visible px-6 py-8 bg-white/80 rounded-b-2xl border border-white/10 shadow-inner backdrop-blur-xl"></div>
    </section>

    <!-- Featured Markets -->
    <section id="DisplayAndAlerts2" class="mt-10 pt-4 bg-orange-500 md:bg-[aliceblue] rounded-2xl mb-6 shadow-md overflow-hidden">
      <div class="max-w-7xl mx-auto md:mx-1  px-6">
        <p class="text-2xl md:text-2xl font-extrabold text-white md:text-gray-800 text-center md:text-start mt-4 mb-4">
          Top Rated and Featured Markets  <button class="text-sm py-3 px-3 ml-4 border-[0.1px] border-[orange] rounded-3xl cursor-pointer bg-[aliceblue] md:bg-orange-600 mt-3 md:mt-0 text-orange-600 md:text-white hover:bg-700   ">See The whole List</button> 
        </p>
      </div>
      <div id="featuredMarketsContainer" class="flex flex-row flex-nowrap md:flex-wrap items-center justify-start md:justify-center gap-6 md:gap-10 overflow-x-auto md:overflow-visible px-6 py-8 bg-white/80 rounded-b-2xl border border-white/10 shadow-inner backdrop-blur-xl"></div>
    </section>

    <!-- Results -->
    <section id="MainResultsPage" class="page w-8xl pt-0 rounded-t-xl pb-6 px-0 block max-h-[90vh] overflow-y-auto overflow-x-hidden mt-1 mb-[30px] shadow-inner"></section>

  </main>

  <!-- Scripts -->
  <script src="{% static 'main/ai-interface/navigation.js' %}"></script>
  <script src="{% static 'main/ai-interface/dynamics.js' %}"></script>
</body>
</html>

